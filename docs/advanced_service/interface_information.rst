Interface Information
=====================

.. warning::
    This section is intended for **developers**, and may be irrelevant unless
    you intend to modify or expand the functionality of :ref:`Normal Use`.


GoldPackets
###########

:ref:`GoldPackets` is a custom designed packet standard, made by Team Gold for the EG-207 CMS.

The format is call/response based and detailed below:

+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| Inst  |   Byte   |       Reply        |   ACK    |   Fail    |                                                                        Note                                                                         |
+=======+==========+====================+==========+===========+=====================================================================================================================================================+
| ``v`` | ``0x76`` | ``v0.1_g70b...\n`` | ``ok\n`` | ``127\n`` | The "Version" Command will return the version as ascii. If it prints ``OK`` at the end it completed otherwise it may raise and print an error code. |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| ``w`` | ``0x77`` | ``127\n``          | ``ok\n`` | ``127\n`` | Print the EEPROM warning, 0 if there is none.                                                                                                       |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| ``e`` | ``0x65`` | ``127\n``          | ``ok\n`` | ``127\n`` | Print the EEPROM error, 0 if there is none.                                                                                                         |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| ``W`` | ``0x45`` | ``127\n``          | ``ok\n`` | ``127\n`` | Clear the EEPROM warning. Will return the warning cleared.                                                                                          |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| ``E`` | ``0x57`` | ``127\n``          | ``ok\n`` | ``127\n`` | Clear the EEPROM error. Will return the error cleared.                                                                                              |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
| ``t`` | ``0x74`` | ``32.00\n``        | ``ok\n`` | ``127\n`` | Lowercase t will poll the DHT11 for its temperature value and return it at that time.                                                               |
+-------+----------+--------------------+----------+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+


Communication Example
---------------------

.. code-block:: shell

    > v
    CDR-RELEASE-102-gaf0e-dirty
    ok
    > p
    ?70
    ok


Error Matrix
------------

+------------+----------------------------------------+
| Error Code |                  Note                  |
+============+========================================+
| 10         | Sensor reading was out of scope or NaN |
+------------+----------------------------------------+